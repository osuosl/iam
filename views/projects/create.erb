<div class="container">
  <form action='/projects' name="createProject" method='post' onsubmit="return validateForm()">
    <fieldset>
    <legend> New Project </legend>
    <% if @error %>
      <div class="alert alert-danger" align="left">
        <strong>Invalid Input:</strong>
         That project already exists!
       </div>
    <% end %>

    <div class="form-group row">
      <label class="col-md-offset-2 col-md-5 control-label col-md-offset-2">Name</label>
        <div class="col-md-offset-2  col-md-5 inputGroupContainer col-md-offset-2">
          <div class="input-group">
            <span class="input-group-addon">
              <i class="glyphicon glyphicon-book"></i>
            </span>
            <input name="name" placeholder="New Project Name" class="form-control" type="text">
          </div>
        </div>
     </div>

     <div class="form-group row">
       <label class="col-md-offset-2 col-md-5 control-label col-md-offset-2">Client</label>
       <div class="col-md-offset-2  col-md-5 inputGroupContainer col-md-offset-2">
         <div class="input-group">
           <span class="input-group-addon">
             <i class="glyphicon glyphicon-list"></i>
           </span>
           <select name="client_id" class="form-control selectpicker" >
             <% for @client in @clients %>
                <% if @client.active %>
                   <option value="<%= @client.id %>"><%= @client.name %></option>
               <% end %>
             <% end %>
           </select>
         </div>
       </div>
     </div>

     <div class="form-group row">
       <label class="col-md-offset-2 col-md-5 control-label col-md-offset-2">Resource</label>
       <div class="col-md-offset-2  col-md-5 inputGroupContainer col-md-offset-2">
         <div class="input-group">
           <span class="input-group-addon">
             <i class="glyphicon glyphicon-tree-conifer"></i>
           </span>
           <input name="resources" placeholder="Resource" class="form-control"  type="text">
         </div>
       </div>
     </div>

     <div class="form-group row">
       <label class="col-md-offset-2 col-md-5 control-label col-md-offset-2">Description</label>
       <div class="col-md-offset-2  col-md-5 inputGroupContainer col-md-offset-2">
         <div class="input-group">
           <span class="input-group-addon">
             <i class="glyphicon glyphicon-pencil"></i>
           </span>
           <textarea class="form-control" name="description"></textarea>
         </div>
       </div>
     </div>

     <div class="form-group row">
       <label class="col-md-offset-2 col-md-5 control-label col-md-offset-2"></label>
       <div class="col-md-offset-2  col-md-5  col-md-offset-2">
         <button type="submit" class="btn btn-success" >Create Project
           <span class="glyphicon glyphicon-saved"></span>
         </button>
       </div>
     </div>

   </fieldset>
 </form>

<script>
function validateForm() {
  var x = document.forms["createProject"]["name"].value;
  if (x == null || x == "") {
    alert("Name must be filled out");
    return false;
  }
}
</script>
